## 应用层

### 应用层协议原理

#### 网络应用程序体系结构

- 客户 - 服务器体系结构（client - server architecture）
- P2P 体系结构（P2P architecture）

#### 进程通信

在两个不同端系统上的进程，通过跨越计算机网络交换报文（message）。

1. 客户和服务器进程

2. 进程与计算机网络之间的接口

    进程通过套接字（socket）软件接口向网络发送报文和从网络接收报文。

    套接字是同一台主机内应用层与运输层之间的接口，因此也称为应用程序和网络之间的 API。

3. 进程寻址

    在因特网中，IP 地址（IP address）标识主机，端口号（port number）指定运行在接收主机上的接收进程。

#### 可供应用程序使用的运输服务

1. 可靠数据传输

2. 吞吐量

    **带宽敏感的应用**（bandwidth-sensitive application）是具有吞吐量要求的应用程序，**弹性应用**（elastic application）能够根据当时可用的带宽或多或少地利用可供使用的吞吐量。

3. 定时

4. 安全性

#### 因特网提供的运输服务

1. TCP 服务
2. UDP 服务

#### 应用层协议

应用层协议（application-layer protocol）定义了运行在不同端系统上的应用程序进程如何相互传递报文。特别是定义了：

- 交换的报文类型，例如请求报文和相应报文
- 各种报文类型的语法，如报文中的各个字段及这些字段是如何描述的
- 字段的语义，即这些字段中的信息的含义
- 确定一个进程何时以及如何发送报文，对报文进行响应的规则

### Web 和 HTTP

HTTP 是一个无状态协议（stateless protocol）

- 持续连接和非持续连接
- HTTP 报文格式
- cookie
- Web 缓存

### 因特网中的电子邮件

由用户代理（user agent）、邮件服务器（mail server）和简单邮件传输协议（Simple Mail Transfer Protocol，SMTP）3 个主要部分组成。

邮件访问协议：

1. POP3
2. IMAP
3. HTTP

### DNS：因特网的目录服务

#### DNS 提供的服务

域名系统（Domain Name System）提供了一种能进行主机名到 IP 地址转换的目录服务。

DNS 是：

1. 一个由分层的 DNS 服务器实现的分布式数据库
2. 一个使得主机能够查询分布式数据库的应用层协议

DNS 协议运行在 UDP 之上，使用 53 号端口。

#### DNS 工作机理概述

1. 分布式、层次数据库

    根 DNS 服务器、顶级域服务器、权威 DNS 服务器、本地 DNS 服务器

2. DNS 缓存

### 内容分发网络

CDN 管理分布在多个地理位置上的服务器，在它的服务器中存储资源的副本，并且试图将每个用户请求定向到一个将提供最好的用户体验的 CDN 位置。

